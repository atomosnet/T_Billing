<template>
    <div class="slds-box" style="background-color: white;"> 
    <h3>Template: {templateName}</h3>
    <h1>Account: {accountName}</h1>
    </div>

    <lightning-card title="New Telephony Bill">
        <template if:true={isLoading}>
            <lightning-spinner alternative-text="Creating bill..." size="medium"></lightning-spinner>
        </template>
        <lightning-select
            name="month"
            label="P&L Close Month "
            value={selectedMonthId}
            options={months}
            onchange={handleMonthChange}
            required ></lightning-select>

        
        <lightning-input label="Name" name="Name" onchange={handleOppChange} required=""></lightning-input>
        <lightning-input type="date" label="Close Date" name="CloseDate" onchange={handleOppChange} required=""></lightning-input>
        <lightning-input label="Stage Name" name="StageName" value="Closed Won" onchange={handleOppChange}></lightning-input>

        <template for:each={lineItems} for:item="country" for:index="index">
            <div key={country.Name} class="slds-border_bottom">
                
                
                    <div class="slds-grid slds-wrap slds-align-top slds-m-bottom_medium">
                        <div class="slds-col slds-size_1-of-12">
                            
                                 <p class="slds-text-body_regular slds-m-bottom_none">{country.Name}</p>
                            
                                 
                        </div>
                        
                        

                    
                        <div class="slds-col slds-size_5-of-12">
                            <lightning-input type="number" name="UnitPrice" label="Sales Price"  required="" data-index={index} onchange={handleProductChange} value={country.UnitPrice}></lightning-input>   
                        </div>


                        <div class="slds-col slds-size_5-of-12 slds-p-horizontal_xx-small">
                            <lightning-input type="number" name="Buy_Price__c" label="Buy Price" required="" data-index={index} onchange={handleProductChange}></lightning-input>  
                        </div>
                    </div>
                                        
            </div>
        </template>
        <lightning-button variant="brand" label="Create Bill" onclick={handleSubmit}></lightning-button>
        
        
    </lightning-card>
</template>